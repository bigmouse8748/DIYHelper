{"openapi":"3.1.0","info":{"title":"DIY Smart Assistant API with Cognito","description":"AI-powered DIY project assistant with AWS Cognito authentication","version":"2.0.0"},"paths":{"/":{"get":{"summary":"Root","description":"Root endpoint","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/test":{"get":{"summary":"Test Endpoint","description":"Test endpoint to verify API is running","operationId":"test_endpoint_api_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health":{"get":{"summary":"Health Check","description":"Health check endpoint","operationId":"health_check_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/debug":{"get":{"summary":"Debug Auth","description":"Debug endpoint to check user authentication and groups","operationId":"debug_auth_api_auth_debug_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/test-simple":{"get":{"summary":"Test Simple","description":"Simple test without authentication","operationId":"test_simple_api_test_simple_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/register":{"post":{"summary":"Register","description":"Register a new user","operationId":"register_api_auth_register_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_register_api_auth_register_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/confirm-email":{"post":{"summary":"Confirm Email","description":"Confirm user email with verification code","operationId":"confirm_email_api_auth_confirm_email_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_confirm_email_api_auth_confirm_email_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/login":{"post":{"summary":"Login","description":"Login user and return tokens","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/refresh":{"post":{"summary":"Refresh Token","description":"Refresh access token","operationId":"refresh_token_api_auth_refresh_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_refresh_token_api_auth_refresh_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/logout":{"post":{"summary":"Logout","description":"Logout current user","operationId":"logout_api_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/auth/forgot-password":{"post":{"summary":"Forgot Password","description":"Initiate password reset","operationId":"forgot_password_api_auth_forgot_password_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_forgot_password_api_auth_forgot_password_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/reset-password":{"post":{"summary":"Reset Password","description":"Reset password with confirmation code","operationId":"reset_password_api_auth_reset_password_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_reset_password_api_auth_reset_password_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/me":{"get":{"summary":"Get Current User Info","description":"Get current user information","operationId":"get_current_user_info_api_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/analyze-project":{"post":{"summary":"Analyze Project","description":"Analyze DIY project from uploaded images\nAvailable to all authenticated users","operationId":"analyze_project_analyze_project_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_project_analyze_project_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/tool-identification/analyze":{"post":{"summary":"Analyze Tools","description":"Identify tools from uploaded images using real AI\nOptional authentication - works for both authenticated and non-authenticated users","operationId":"analyze_tools_api_tool_identification_analyze_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_tools_api_tool_identification_analyze_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/tool-identification/history":{"get":{"summary":"Get Tool Identification History","description":"Get tool identification history - Guest access allowed","operationId":"get_tool_identification_history_api_tool_identification_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tool-identification/history/{identification_id}":{"delete":{"summary":"Delete Tool Identification","description":"Delete a tool identification from user's history\nRequires authentication","operationId":"delete_tool_identification_api_tool_identification_history__identification_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"identification_id","in":"path","required":true,"schema":{"type":"string","title":"Identification Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/upgrade-user":{"post":{"summary":"Upgrade User Group","description":"Upgrade user to a different group\nRequires admin group","operationId":"upgrade_user_group_api_admin_upgrade_user_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_upgrade_user_group_api_admin_upgrade_user_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/admin/users":{"get":{"summary":"List Users","description":"List all users (admin only)","operationId":"list_users_api_admin_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/stats":{"get":{"summary":"Get System Stats","description":"Get system statistics (admin only)","operationId":"get_system_stats_api_admin_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"Body_analyze_project_analyze_project_post":{"properties":{"images":{"items":{"type":"string","format":"binary"},"type":"array","title":"Images"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"project_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Type"},"budget_range":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Budget Range"}},"type":"object","required":["images"],"title":"Body_analyze_project_analyze_project_post"},"Body_analyze_tools_api_tool_identification_analyze_post":{"properties":{"images":{"items":{"type":"string","format":"binary"},"type":"array","title":"Images"}},"type":"object","required":["images"],"title":"Body_analyze_tools_api_tool_identification_analyze_post"},"Body_confirm_email_api_auth_confirm_email_post":{"properties":{"email":{"type":"string","title":"Email"},"confirmation_code":{"type":"string","title":"Confirmation Code"}},"type":"object","required":["email","confirmation_code"],"title":"Body_confirm_email_api_auth_confirm_email_post"},"Body_forgot_password_api_auth_forgot_password_post":{"properties":{"email":{"type":"string","title":"Email"}},"type":"object","required":["email"],"title":"Body_forgot_password_api_auth_forgot_password_post"},"Body_login_api_auth_login_post":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"Body_login_api_auth_login_post"},"Body_refresh_token_api_auth_refresh_post":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"Body_refresh_token_api_auth_refresh_post"},"Body_register_api_auth_register_post":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"username":{"type":"string","title":"Username"}},"type":"object","required":["email","password","username"],"title":"Body_register_api_auth_register_post"},"Body_reset_password_api_auth_reset_password_post":{"properties":{"email":{"type":"string","title":"Email"},"code":{"type":"string","title":"Code"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["email","code","new_password"],"title":"Body_reset_password_api_auth_reset_password_post"},"Body_upgrade_user_group_api_admin_upgrade_user_post":{"properties":{"email":{"type":"string","title":"Email"},"new_group":{"type":"string","title":"New Group"}},"type":"object","required":["email","new_group"],"title":"Body_upgrade_user_group_api_admin_upgrade_user_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}